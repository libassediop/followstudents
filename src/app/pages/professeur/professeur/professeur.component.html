

<div class="container-fluid">

    <div class="row">
      <div class="d-flex">
         <div class="col-sm-4">
              <div class="search-box me-2 mb-2 d-inline-block">
                <div class="position-relative">
                  <input type="text" class="form-control" placeholder="Search..." (input)="searchFilter($event)" />
                  <i class="bx bx-search-alt search-icon"></i>
                </div>
              </div>
            </div>
        <button class="btn btn-success  btn-rounded  ms-auto mb-2" (click)="extraLarge(content)">
          <i class="mdi mdi-plus me-1"></i>Ajouter Professeur </button>
      </div>
      <!--modal pour l'ajout professeur-->
      <ng-template #content role="document" let-modal>
        <div class="modal-header">
          <button type="button" class="btn-close" aria-hidden="true"
                  (click)="modal.dismiss('Cross click')"></button>
        </div>
        <aw-wizard [navBarLayout]="'large-empty-symbols'">
          <aw-wizard-step stepTitle="Ajout Professeur">
            <ng-template awWizardStepSymbol>1</ng-template>
            
            <div class="row">
              <div class="col-md-12">
                
                <div class="card card-body">
                  <div class="row mt-3">
                    <div class="col-12">
                      <div class="row mb-3">
                        <div class="col-md-6" [formGroup]="formprofesseur">
                          <input class="form-control" type="text" placeholder="Nom" formControlName="nom">
                        </div>
                        <div class="col-md-6" [formGroup]="formprofesseur">
                          <input class="form-control" type="text" placeholder="Prénom" formControlName="prenom">
                        </div>
                        <div class="row mb-3"></div>
                        <div class="col-md-6" [formGroup]="formprofesseur">
                          <input class="form-control" type="text" placeholder="Adresse" formControlName="adresse">
                        </div>
                        <div class="col-md-6" [formGroup]="formprofesseur">
                          <input class="form-control" type="text" placeholder="Téléphone" formControlName="telephone" (ngModelChange)="testTelephone($event)">
                          <span class="text-danger" *ngIf="trouveTel" ><i class="fa fa-info-circle" aria-hidden="true"></i>&nbsp;ce  numéro existe deja</span>
                        </div>
                  
                      </div>
                      <div class="row mb-3">
                        
                        <div class="col-md-6"[formGroup]="formprofesseur">
                          <input class="form-control" type="email" placeholder="Email" formControlName="email" (ngModelChange)="testEmail($event)">
                          <span class="text-danger" *ngIf="trouveEmail" ><i class="fa fa-info-circle" aria-hidden="true"></i>&nbsp;cet email existe deja</span>
                        </div>
                        <div class="col-md-6" [formGroup]="formprofesseur">
                          <input class="form-control" type="text" placeholder="Login" formControlName="login"(ngModelChange)="testIdentifiant($event)">
                          <span class="text-danger" *ngIf="trouveLogin" ><i class="fa fa-info-circle" aria-hidden="true"></i>&nbsp;ce login existe deja</span>
                        </div>
                       
                      </div>
                    </div>
                  </div>
                  <br>
                  <div style="text-align:center;">
                    <ul class="list-inline wizard mb-0" style="text-align: center; display: inline-block;">
                      <li class="list-inline-item float-end">
                        <button class="btn btn-success" awNextStep >Suivant&nbsp;<i class="fa fa-arrow-right"></i></button>
                      </li>
                      <li class="list-inline-item float-end">
                        <button class="btn btn-light" awNextStep style="color: black;" disabled><i class="fa fa-arrow-left"></i>&nbsp;Précédent</button>&nbsp;
                      </li>
                    </ul>
                  </div>
                </div>
            
              </div>
            </div>
          </aw-wizard-step>
      
          <aw-wizard-step stepTitle="Désignation classe">
            <ng-template awWizardStepSymbol>2</ng-template>
            <div class="row">
              <div class="col-md-12">
                <div class="card card-body">
                  
                  <div class="row mt-3">
                    <div class="col-md-12">
                      <div class="col-sm-auto" [formGroup]="formprofesseur">
                        <select class="form-select"  id="autoSizingSelect" formControlName="classeId">
                          <option value="" selected='selected' disabled>Choisir la classe à enseigner </option>
                          <option *ngFor="let classe of classes" [value]="classe.id">{{classe.libelle}}</option>
                        </select>
                      </div>
                    </div>
                    </div>
                    <div class="row mt-3">
                    <div class="col-md-12">
                      <div class="col-sm-auto" [formGroup]="formprofesseur">
                        <select class="form-select" id="autoSizingSelect" formControlName="matiereId">
                          <option value="" selected='selected' disabled>Choisir la matière à enseigner</option>
                          <option *ngFor="let m of matieres" [value]="m.id">{{m.libelle}}</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <br>
                  <div style="text-align:center;">
                    <ul class="list-inline wizard mb-0" style="text-align: center; display: inline-block;">
                      <li class="list-inline-item float-end">
                        <button class="btn btn-success" awFinishWizard [disabled]="formprofesseur.invalid"  (click)="AddProfesseur()">Ajouter&nbsp;<i class="fa fa-save"></i></button>
                      </li>
                      <li class="list-inline-item float-end">
                        <button class="btn btn-light" awPreviousStep style="color: black;"><i class="fa fa-arrow-left"></i>&nbsp;Précédent</button>&nbsp;
                      </li>
                    </ul>
                  </div>
                  
                </div>
              </div>
            </div>
          </aw-wizard-step>
          </aw-wizard>
          </ng-template>

<!--liste professeur-->
      <div class="col-xl-2 col-md-6"   *ngFor="let dataPro of professeurs">
        <div class="card">
          <div class="card-body">
            <div class="favorite-icon" >
              <a href="javascript:void(0)"><i class="uil uil-heart-alt fs-18"></i></a>
            </div>
            <div class="avatar-sm mx-auto mb-4" *ngIf="!dataPro.image"  >
              <span class="avatar-title rounded-circle bg-soft bg-info text-primary font-size-16" >
                {{dataPro.nom.charAt(0)}}
              </span>
            </div>
            <!-- <div *ngIf="dataPro.image" class="mb-4">
              <img class="rounded-circle avatar-sm" src="{{dataPro.image}}" alt />
            </div> -->
            <h5 class="fs-17 mb-2" style="text-align: center;"><a href="job-details.html" class="text-dark">{{dataPro.nom + ', ' + dataPro.prenom }}</a> </h5>
            <ul class="list-inline mb-0" style="text-align: center;">
              <li class="list-inline-item" >
                <p class="text-muted fs-14 mb-1 "><i class="mdi mdi-map-marker"></i>{{dataPro.adresse}}</p>
              </li>
              <li class="list-inline-item">
                <p class="text-muted fs-14 mb-0"><i class="mdi mdi-phone"></i>{{dataPro.telephone}}</p>
              </li>
              <li class="list-inline-item">
                <button type="button" class="btn btn-white"  (click)="ModalUpdateprofesseur(dataPro.login,contentUpdatePersonnel)">
                  <i class="bx bx-edit text-warning my-custom-icon" ></i> 
                </button>
                <button type="button" class="btn btn-white" (click)="DeleteProfesseur(dataPro.id)">
                  <i class="bx bx-trash text-danger my-custom-icon" ></i> 
                </button>

                
              </li>
            </ul>
            
          <br>
          <div class="card-footer bg-transparent border-top" style="text-align: center;">
           <button (click)="gotoClasseEnseigne(dataPro.login)"  dataPro-bs-toggle="modal" class="btn btn-outline-success " ><i class="fa fa-eye"></i>&nbsp; Details</button>
            </div>
    </div>
    </div>
    </div>
    </div>

<!--modal pour modifier un professeur-->
<ng-template #contentUpdatePersonnel role="document" let-modal>
  <div class="modal-header">
    <h5 class="modal-title mt-0">Modification du professeur {{ formprofesseur.get('nom').value }} {{ formprofesseur.get('prenom').value }}</h5>
    <button type="button" class="btn-close" aria-hidden="true"
            (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="row" >
    <div class="col-md-12">
      <div class="modal-body">
  <form (ngSubmit)="updateprofesseur()" [formGroup]="formprofesseur" >
  <div class="row mt-3">
    <div class="col-12">
      <div class="row mb-3">
        <!-- <label class="col-md-3 col-form-label">Contact Person</label -->
        <div class="col-sm-6 test">
          <input class="form-control"  type="text"  placeholder="Nom"  formControlName="nom">
        </div>
        <div class="col-md-6">
          <input class="form-control"  type="text" placeholder="Prénom" formControlName="prenom">
        </div>
        </div>
        <div class="row mb-3">
        <div class="col-md-6">
          <input class="form-control"  type="text" placeholder="Adresse" formControlName="adresse">
        </div>
        <div class="col-md-6">
          <input class="form-control"  type="text" placeholder="Téléphone" formControlName="telephone">
        </div>
      </div>
      <div class="row mb-3">
      <div class="col-sm-6 test">
          <input class="form-control"  type="email"  placeholder="Email" formControlName="email">
        </div>
        <div class="col-md-6">
          <input class="form-control"  type="text" placeholder="Login" formControlName="login">
        </div>
  
  </div>
    
  </div>
  <br>
  <div style="text-align:center;">
      <ul class="list-inline wizard mb-0" style="text-align: center; display: inline-block;">
        <button type="button"  
        class="btn btn-danger" style="float:center;" (click)="annuler()"><i class="fa fa-undo" ></i>&nbsp;Annuler</button>
        &nbsp;
        <button type="button" class="btn btn-success"  style = "float:center;" [disabled]="formprofesseur.invalid" (click)="updateprofesseur()"><i class="fa fa-save"></i>&nbsp;Enregistrer </button>
    </ul>
  </div>
  </div>
  </form>
</div>
</div>
</div>
</ng-template>


 <div class="row">
      <div class="col-12">
        <div class="text-center my-3">
          <a href="javascript:void(0);" class="text-success"  (click)="loadMore()"><i class="bx bx-hourglass bx-spin mr-2"></i> Voir plus </a>
        </div>
      </div> 
    </div>

 

